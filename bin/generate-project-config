#!/usr/bin/env php
<?php
/**
 * Generate project-specific security configuration
 */

// Check if we can load the class
$autoloadPaths = [
    __DIR__ . '/../vendor/autoload.php',
    __DIR__ . '/../../../autoload.php',
    __DIR__ . '/../src/SecurityRulesetManager.php'
];

$loaded = false;
foreach ($autoloadPaths as $autoload) {
    if (file_exists($autoload)) {
        if (strpos($autoload, 'SecurityRulesetManager.php') !== false) {
            require_once $autoload;
        } else {
            require_once $autoload;
        }
        $loaded = true;
        break;
    }
}

if (!$loaded) {
    // Fallback: load the class directly
    require_once dirname(__DIR__) . '/src/SecurityRulesetManager.php';
}

use Adi3890\PHPCSCommonRules\SecurityRulesetManager;

// Run interactive setup
SecurityRulesetManager::interactiveSetup();
